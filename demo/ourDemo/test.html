<html xmlns="http://www.w3.org/1999/xhtml">
<meta charset="UTF-8">
<head>
    <script src="../../build/player/lottie.js"></script>
    <script src="border.js"></script>
    <style>
        body {
            background-color: #fff;
            margin: 0;
            padding: 0;
            overflow: hidden;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        #player {
            background-color: #fff;
            display: block;
            overflow: hidden;
            transform: translate3d(0, 0, 0);
            -webkit-transform: translate3d(0, 0, 0);
            opacity: 1;
        }
    </style>
</head>
<body>
<div id="player"></div>

<script>
    const animationData = {
        "v": "4.12.0",
        "fr": 30,
        "ip": 0,
        "op": 3600,
        "w": 1080,
        "h": 1080,
        "nm": "Comp 1",
        "ddd": 0,
        "assets": [],
        "fonts": {
            "list": [{
                "origin": 1,
                "fPath": "",
                "fClass": "",
                "fFamily": "Lato",
                "fWeight": "",
                "fStyle": "Black",
                "fName": "Lato-Black",
                "ascent": 74.8992919921875
            }]
        },
        "layers": [{
            "ddd": 0,
            "ind": 1,
            "ty": 5,
            "nm": "TEXTTEXTTEXT",
            "ln": "editText",
            "sr": 1,
            "ks": {
                "o": {"a": 0, "k": 100, "ix": 11},
                "r": {"a": 0, "k": 45, "ix": 10},
                "p": {"a": 0, "k": [540, 540, 0], "ix": 2},
                "a": {"a": 0, "k": [0, -32.418, 0], "ix": 1},
                "s": {"a": 0, "k": [100, 100, 100], "ix": 6}
            },
            "ao": 0,
            "t": {
                "d": {
                    "k": [{
                        "s": {
                            "s": 89,
                            "f": "Lato-Black",
                            "t": "TEXTTEXTTEXT",
                            "j": 2,
                            "tr": 0,
                            "lh": 106.8,
                            "ls": 0,
                            "fc": [1, 1, 1]
                        }, "t": 0
                    }]
                }, "p": {}, "m": {"g": 1, "a": {"a": 0, "k": [0, 0], "ix": 2}}, "a": []
            },
            "ip": 0,
            "op": 3600,
            "st": 0,
            "bm": 0
        }, {
            "ddd": 0,
            "ind": 2,
            "ty": 1,
            "nm": "edit_bg",
            "sr": 1,
            "ks": {
                "o": {"a": 0, "k": 100, "ix": 11},
                "r": {"a": 0, "k": 0, "ix": 10},
                "p": {"a": 0, "k": [540, 540, 0], "ix": 2},
                "a": {"a": 0, "k": [540, 540, 0], "ix": 1},
                "s": {"a": 0, "k": [100, 100, 100], "ix": 6}
            },
            "ao": 0,
            "sw": 1080,
            "sh": 1080,
            "sc": "#0d1fac",
            "ip": 0,
            "op": 3600,
            "st": 0,
            "bm": 0
        }]
    };
    const params = {
        container: document.getElementById('player'),
        renderer: 'svg',
        loop: true,
        autoplay: true,
        animationData: animationData
    };

    bodymovin.loadAnimation(params);

    let svg = document.getElementById('player').firstElementChild;

    function mouseClick(evt) {
        if (evt.target.id === borderId) {
            return;
        }

        let parentGroup = evt.target.parentNode;
        while (!(parentGroup instanceof SVGGElement)) {
            if (parentGroup === null) {
                return;
            }
            parentGroup = parentGroup.parentNode;
        }

        removeBorder();
        if (parentGroup.id.includes("edit")) {
            createBorder(parentGroup);
            console.log("Focus: " + parentGroup.id);
            // Android.focus(parentGroup.id);
        } else {
            console.log("ClearFocus");
            // Android.clearFocus();
        }
    }

    // noinspection JSUnresolvedFunction
    svg.addEventListener('click', mouseClick, false);
</script>
</body>
</html>
